(function(r){"use strict";var h=function(t,i){this.options=r.extend({},h.DEFAULTS,i);this.$target=r(this.options.target).on("scroll.bs.affix.data-api",r.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",r.proxy(this.checkPositionWithEventLoop,this));this.$element=r(t);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};h.VERSION="3.3.5";h.RESET="affix affix-top affix-bottom";h.DEFAULTS={offset:0,target:window};h.prototype.getState=function(t,i,e,f){var o=this.$target.scrollTop();var n=this.$element.offset();var s=this.$target.height();if(e!=null&&this.affixed==="top")return o<e?"top":false;if(this.affixed==="bottom"){if(e!=null)return o+this.unpin<=n.top?false:"bottom";return o+s<=t-f?false:"bottom"}var a=this.affixed==null;var r=a?o:n.top;var h=a?s:i;if(e!=null&&o<=e)return"top";if(f!=null&&r+h>=t-f)return"bottom";return false};h.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(h.RESET).addClass("affix");var t=this.$target.scrollTop();var i=this.$element.offset();return this.pinnedOffset=i.top-t};h.prototype.checkPositionWithEventLoop=function(){setTimeout(r.proxy(this.checkPosition,this),1)};h.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=this.$element.height();var i=this.options.offset;var e=i.top;var f=i.bottom;var o=Math.max(r(document).height(),r(document.body).height());if(typeof i!=="object")f=e=i;if(typeof e==="function")e=i.top(this.$element);if(typeof f==="function")f=i.bottom(this.$element);var n=this.getState(o,t,e,f);if(this.affixed!==n){if(this.unpin!=null)this.$element.css("top","");var s="affix"+(n?"-"+n:"");var a=new r.Event(s+".bs.affix");this.$element.trigger(a);if(a.isDefaultPrevented())return;this.affixed=n;this.unpin=n==="bottom"?this.getPinnedOffset():null;this.$element.removeClass(h.RESET).addClass(s).trigger(s.replace("affix","affixed")+".bs.affix")}if(n==="bottom"){this.$element.offset({top:o-t-f})}};function e(f){return this.each(function(){var t=r(this);var i=t.data("bs.affix");var e=typeof f==="object"&&f;if(!i)t.data("bs.affix",i=new h(this,e));if(typeof f==="string")i[f]()})}var t=r.fn.affix;r.fn.affix=e;r.fn.affix.Constructor=h;r.fn.affix.noConflict=function(){r.fn.affix=t;return this};r(window).on("load",function(){r('[data-spy="affix"]').each(function(){var t=r(this);var i=t.data();i.offset=i.offset||{};if(i.offsetBottom!=null)i.offset.bottom=i.offsetBottom;if(i.offsetTop!=null)i.offset.top=i.offsetTop;e.call(t,i)})})})(jQuery);